"use strict";let arrayTasks=[];const dateNumEl=document.querySelector(".js-number"),dateNameEl=document.querySelector(".js-day"),dateMonthYearEl=document.querySelector(".js-month-year"),buttonAdd=document.querySelector(".button--add"),buttonPlus=document.querySelector(".button--plus"),background=document.querySelector(".background");function printDate(){const e=new Date,t=e.getDate(),a=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"][e.getDay()],r=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][e.getMonth()],o=e.getFullYear(),n={date:e,dayNumber:t,day:a,month:r,year:o};document.appDate=n,dateNumEl.innerHTML=n.dayNumber,dateNameEl.innerHTML=n.day,dateMonthYearEl.innerHTML=`${n.month}, ${n.year}`}function addNewTask(){document.querySelector(".new-task");background.classList.toggle("hidden")}function createNewTask(){const e={name:document.querySelector(".js-input").value,completed:!1};document.querySelector(".js-input").value="",localStorageToDoList(e)}function localStorageToDoList(e){null==localStorage.getItem("arrayTasks")?(arrayTasks=[],arrayTasks.push(e),localStorage.setItem("arrayTasks",JSON.stringify(arrayTasks))):(arrayTasks=JSON.parse(localStorage.getItem("arrayTasks")),arrayTasks.push(e),localStorage.setItem("arrayTasks",JSON.stringify(arrayTasks))),printLocalStorage()}function printLocalStorage(){const e=JSON.parse(localStorage.getItem("arrayTasks"));if(null!=e){let t=document.querySelector(".todo-list"),a=document.querySelector(".done"),r="",o="";e.reverse();for(let t=0;t<e.length;t++)e[t].completed?r+='<li class="task-li strike"><input type="checkbox" checked="checked" class="checkbox" name="status" id="checkbox'+t+' "/><label class="label-checkbox" for="checkbox'+t+'">'+e[t].name+"</label></li>":o+='<li class="task-li"><input type="checkbox" class="checkbox" name="status" id="checkbox'+t+'"/><label class="label-checkbox" for="checkbox'+t+'">'+e[t].name+"</label></li>";t.innerHTML=o,a.innerHTML=r;let n=document.querySelectorAll(".checkbox");for(let e=0;e<n.length;e++)n[e].addEventListener("click",changeStatusTasks)}}function changeStatusTasks(e){let t=JSON.parse(localStorage.getItem("arrayTasks")),a=e.currentTarget;a.parentNode.classList.toggle("strike");let r=a.nextSibling.innerHTML,o=[],n=0;for(let e=0;e<t.length;e++)r===t[e].name&&(o=t[e],n=e,t[e].completed=!t[e].completed);t.splice(n,1),t.unshift(o),localStorage.setItem("arrayTasks",JSON.stringify(t)),printLocalStorage()}printLocalStorage(),printDate(),buttonPlus.addEventListener("click",addNewTask),window.addEventListener("click",(function(e){e.target==background&&background.classList.add("hidden")})),window.addEventListener("keydown",(function(e){13==e.key&&background.classList.add("hidden")})),buttonAdd.addEventListener("click",(function(){createNewTask(),addNewTask()}));