"use strict";let arrayTasks=[];const dateNumEl=document.querySelector(".js-number"),dateNameEl=document.querySelector(".js-day"),dateMonthYearEl=document.querySelector(".js-month-year"),buttonAdd=document.querySelector(".button--add"),buttonPlus=document.querySelector(".button--plus"),background=document.querySelector(".background");function printDate(){const e=new Date,t=e.getDate(),a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],r=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],n=e.getFullYear(),o={date:e,dayNumber:t,day:a,month:r,year:n};document.appDate=o,dateNumEl.innerHTML=o.dayNumber,dateNameEl.innerHTML=o.day,dateMonthYearEl.innerHTML=`${o.month}, ${o.year}`}function addNewTask(){document.querySelector(".new-task");background.classList.toggle("hidden")}function createNewTask(){const e={name:document.querySelector(".js-input").value,completed:!1};document.querySelector(".js-input").value="",localStorageToDoList(e)}function localStorageToDoList(e){null==localStorage.getItem("arrayTasks")?(arrayTasks=[],arrayTasks.push(e),localStorage.setItem("arrayTasks",JSON.stringify(arrayTasks))):(arrayTasks=JSON.parse(localStorage.getItem("arrayTasks")),arrayTasks.push(e),localStorage.setItem("arrayTasks",JSON.stringify(arrayTasks))),printLocalStorage()}function printLocalStorage(){const e=JSON.parse(localStorage.getItem("arrayTasks"));if(null!=e){let t=document.querySelector(".todo-list"),a=document.querySelector(".done"),r="",n="";e.reverse();for(let t=0;t<e.length;t++)e[t].completed?r+='<li class="task-li strike"><input type="checkbox" checked="checked" class="checkbox" name="status" id="checkbox'+t+' "/><label class="label-checkbox" for="checkbox'+t+'">'+e[t].name+"</label></li>":n+='<li class="task-li"><input type="checkbox" class="checkbox" name="status" id="checkbox'+t+'"/><label class="label-checkbox" for="checkbox'+t+'">'+e[t].name+"</label></li>";t.innerHTML=n,a.innerHTML=r;let o=document.querySelectorAll(".checkbox");for(let e=0;e<o.length;e++)o[e].addEventListener("click",changeStatusTasks)}}function changeStatusTasks(e){let t=JSON.parse(localStorage.getItem("arrayTasks")),a=e.currentTarget;a.parentNode.classList.toggle("strike");let r=a.nextSibling.innerHTML,n=[],o=0;for(let e=0;e<t.length;e++)r===t[e].name&&(n=t[e],o=e,t[e].completed=!t[e].completed);t.splice(o,1),t.unshift(n),localStorage.setItem("arrayTasks",JSON.stringify(t)),printLocalStorage()}printLocalStorage(),printDate(),buttonPlus.addEventListener("click",addNewTask),window.addEventListener("click",(function(e){e.target==background&&background.classList.add("hidden")})),window.addEventListener("keydown",(function(e){13==e.key&&background.classList.add("hidden")})),buttonAdd.addEventListener("click",(function(){createNewTask(),addNewTask()}));